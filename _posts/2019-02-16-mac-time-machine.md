---
layout: default
title: "Mac下设置TimeMachine"
date: 2019-2-16 12:00:00
categories: main
---


# Mac下TimeMachine的配置与使用

### 开始使用

`可以准备一块空白硬盘，也可以选择一个分过区的硬盘，连接到Mac，打开时间机器偏好设置，选择即可。`

### 例子，找回丢失的未同步ideanote笔记

ideanote是一款非常美观好用的个人笔记软件，可以在不同的设备之间同步笔记。但是mac版上还存在一个bug，如果手机和mac同时编辑了同一篇笔记，手机上先点了同步，mac上再点同步的时候，会导致mac上编辑的内容丢失。不会像git或者onenote那样提醒用户去解决冲突，之前了解这一点没太在意。

上周五情人节下班前写了一段随笔，随后就把这事忘了。周一上班的时候，打开笔记点了同步的同时，瞄到了一眼，然后发现那些文字丢失了。。。靠记忆拼凑的总觉得不是那么回事，输入中的文字也没法通过历史剪贴版找回，于是想起了软件本地缓存有文字记录，应该可以通过时间机器找回来。花了一个中午休息的时间。

引用笔记

>那段丢失的文字被我成功找回来了，有什么是可以难住程序员的呢。^_^!
>
>"
>关于情人节
>诗人与侠客，或者学者法师？
>没有对立，就算是学者法师，也不要错过情人节。反正多个节日挺不错。
>买一束花，装饰我们的生活。
>如果理性比作生活的空气，那么感性与直觉就是水。二者相辅相成，才是完整的生活方式，这个情人节，其实挺不错，让人们不忘记生活的浪漫与点缀。
>…..."



**找回步骤：**

1. 想到使用timemachine，但是timemachine找到对应的app还原以后，仍然还是同步之后的文字
2. /Applications/Ideanote.app，想打开应用程序文件夹找到本地文字保存的文件，找不到，都想用xcode看看应用源码了，忽然想到，最近的改动会在文件属性上标志出来，发现这个文件的最近改动是1月14号，应该是单纯的安装文件
3. 于是找到了另外一个目录下/Users/ldh/Library/Application Support/Ideanote，这个目录下的文件有很多是今天改动的，应该就是这里了。尝试恢复这个文件夹，但是在timeMacheine中搜索不到，怀疑timeMachine是否可以恢复隐藏文件了。。一番搜索无果
4. 定位到/Users/ldh/Library/Application Support/Ideanote/databases/file__0/1这个文件，在app中添加改动不同步，这里可以搜索到最新的内容（文字支持cat不支持less命令），看来，只要这个文件还原到早上上班时候就可以找回那段丢失的文字了
5. 通过命令行打开file__0所在位置，右键没有找到恢复历史版本的命令，忽然想起来可以把这个文件夹固定在finder右侧，然后通过timemachine选择这个文件，顺利恢复到早上6点钟的版本了，搜索情人节，顺利找回丢失的文字，果然比自己后来靠记忆写得优美得多。

另外，新发现就算是另外一个设备上同步了，如果新的设备没有同步直接编辑也会把同步的内容删除掉，不过这时可以通过手机app的历史记录找回。虽然ideanote轻巧简洁，还是很多地方需要完善。当前好的习惯是每次换设备编辑前后及时进行数据同步。

